<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Running</title>
    <link rel="stylesheet" href="/gym-app-ai/workouts.css">
</head>
<body>
    <h1>Have a great time</h1>
    <p>Previous best: <span id="previous-best"></span></p>

    <form id="form">
        <label for="minutes">Minutes:</label>
        <input type="number" id="minutes" name="minutes" min="0" required>
        <br>
        <label for="km">Kilometers:</label>
        <input type="number" id="km" name="km" min="0" step="0.1" required>
        <br>
        <input type="submit" value="Submit">
    </form>

    <button onclick="window.location.href='/gym-app-ai/HTMLs/start_warmup.html'" class="back">Back</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const previousKm = localStorage.getItem('run_km') || 0;
            const previousMin = localStorage.getItem('run_min') || 0;
            document.getElementById('previous-best').textContent = `${previousKm} kilometers and ${previousMin} minutes `;
        });

        document.getElementById('form').addEventListener('submit', function(event){
        event.preventDefault();
        
        const min = document.getElementById('minutes').value;
        const km = document.getElementById('km').value;
        
        if (km > localStorage.getItem('run_km')) {
            localStorage.setItem('run_km', km);
            localStorage.setItem('run_min', min);
        }
        else if (km == localStorage.getItem('run_km') && min > localStorage.getItem('run_min')) {
            localStorage.setItem('run_km', km);
            localStorage.setItem('run_min', min);
        }

        window.location.href = '/index.html';
    });
    </script>
</body>
</html>